<html>
<head></head>
<body>
<h3>synchronous Programming in  JavaScript</h3>
	<hr/> 
	
	<button  onclick="fn_getData()">Get Data </button>
	<br/><br/>
	<table border="2" cellspacing="2px" id="table1" style="visibility: hidden;">
		<tr>
			<th>ID</th>
            <th>E-mail</th>
			<th>First Name</th>
			<th>Last Name</th>
            <th>Avatar</th>
		</tr>
	</table>
	<p id="p1" style="color: red;"></p>
	 
	 
	<script>	 
	
		var p1 = document.getElementById("p1");
		var tb1 = document.getElementById("table1");
		
	// async 
	// function fn_getData()
	// { 
	// 	let url = "https://reqres.in/api/users";
		
	// 	fetch(url).then(  (response)  => 
	// 	{
	// 		response.json().then(  (resData)  =>  
	// 		{ 
    //             console.log(resData);
	// 			displayData(resData.data);
	// 		});
	// 	})
	// 	.catch((error) => 
	// 	{            
	// 		 p1.innerHTML =error;
	// 	});
	// }  
	
	//Sync
	async function fn_getData()
            {
                try
                {
                let url="https://reqres.in/api/users";
                let response=await fetch(url);
                let resData=await response.json()
                displayData(resData.data);
                }
                catch(error)
                {
                warnObj.innerHTML="<p>"+error+"</p>";
                }
            }
	
	
	function  displayData( dataArray )
	{
		tb1.style.visibility= "visible";
		for(var i = 1;i<tb1.rows.length;)
            tb1.deleteRow(i);
				
		for(let item of dataArray)
		{	

			var row = tb1.insertRow(-1);

			var cell1 = row.insertCell(0);
			var cell2 = row.insertCell(1);
			var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);

			cell1.innerHTML = item.id;
			cell2.innerHTML = item.email;
			cell3.innerHTML = item.first_name;
            cell4.innerHTML = item.last_name;
            cell5.innerHTML = `<img src="${item.avatar}" style="border-radius:50%;">` ;

		} 
	}
	
	</script>
</body>
</html>





